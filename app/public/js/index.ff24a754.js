(function(t){function e(e){for(var o,n,a=e[0],l=e[1],c=e[2],d=0,v=[];d<a.length;d++)n=a[d],s[n]&&v.push(s[n][0]),s[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(v.length)v.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],o=!0,a=1;a<i.length;a++){var l=i[a];0!==s[l]&&(o=!1)}o&&(r.splice(e--,1),t=n(n.s=i[0]))}return t}var o={},s={index:0},r=[];function n(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=o,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=l;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("0eed")},"0412":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-content",[t.term?t._e():i("monitors",{attrs:{monitors:t.monitors}}),t.term?i("monitors",{attrs:{monitors:t.filteredMonitors}}):t._e(),i("Search",{on:{search:t.searchPlaylist}})],1)},s=[],r=i("a3b1"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-card-title",{staticClass:"mb-0",attrs:{"primary-title":"",color:"dark"}},[i("div",{staticClass:"headline"},[t._v("Monitors")])]),i("v-list",{staticClass:"mt-0",attrs:{"two-line":""}},t._l(t.monitors,function(e,o){return i("v-list-tile",{key:o,class:[{even:o%2==0}]},[i("v-list-tile-avatar",{staticStyle:{cursor:"pointer"},attrs:{medium:""},on:{click:function(i){return t.goTo(e.id)}}},[0===e.totalRequests?i("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}}):t._e(),e.totalRequests>0?i("v-icon",{class:t.getClass(e.active,e.isUp)},[t._v(t._s(t.getIcon(e.active,e.isUp)))]):t._e()],1),i("v-list-tile-content",{staticStyle:{cursor:"pointer"},on:{click:function(i){return t.goTo(e.id)}}},[i("v-list-tile-title",[t._v("\n          "+t._s(e.title)+"\n          "),e.totalRequests>0?i("v-icon",{attrs:{ml:"5",color:t.getClass(e.active,e.isUp)}},[t._v("trending_up")]):t._e(),e.totalRequests>0?i("span",[t._v(t._s(t.percentage(e.totalDownTimes,e.totalRequests))+"%")]):t._e()],1),i("v-list-tile-sub-title",[t._v(t._s(e.website))])],1),i("v-spacer"),i("v-list-tile-action",[i("v-switch",{attrs:{"input-value":e.active},on:{change:function(i){return t.toggleMonitor(e.id,i)}}})],1)],1)}),1),0===t.monitors.length&&t.renderComplete?i("v-card-title",{attrs:{"primary-title":""}},[i("div",{staticStyle:{width:"100%","text-align":"center"}},[i("v-btn",{attrs:{round:"",color:"error",dark:""},on:{click:t.newMonitorForm}},[i("v-icon",[t._v("add")]),t._v(" Create your first monitor\n      ")],1)],1)]):t._e()],1)},a=[],l={props:{monitors:Array},methods:{getIcon(t,e){let i="";return t&&e?i="thumb_up":t&&!e?i="thumb_down":t||(i="wifi_off"),i},getClass(t,e){let i="";return t&&e?i="success":t&&!e?i="error":t||e||(i="grey"),i},turnOn(){this.$refs.newMonitorDialog.$emit("open")},percentage(t,e){let i=e-t;return parseFloat(i/e*100).toFixed(2)},toggleMonitor(t,e){this.$nextTick(()=>{this.$store.dispatch("TOGGLE_MONITOR_STATE",{id:t,action:e?"start":"stop"})})},goTo(t){this.$router.push("/monitor/"+t)},newMonitorForm(){this.$eventBus.$emit("new-monitor")}},data(){return{styles:{active:"success"},classes:{active:"success"},renderComplete:!1}},mounted(){setTimeout(()=>{this.renderComplete=!0},1500)}},c=l,u=(i("8c7b"),i("2877")),d=i("6544"),v=i.n(d),m=i("3519"),h=i("239b"),p=i("a38b"),f=i("0255"),b=i("dcfc"),T=i("ea7e"),_=i("8df5"),g=i("388e"),y=i("23e3"),E=i("0520"),S=i("adcd"),w=i("9339"),M=Object(u["a"])(c,n,a,!1,null,"f5cde6bc",null),O=M.exports;v()(M,{VBtn:m["a"],VCard:h["a"],VCardTitle:p["a"],VIcon:f["a"],VList:b["a"],VListTile:T["a"],VListTileAction:_["a"],VListTileAvatar:g["a"],VListTileContent:y["a"],VListTileSubTitle:y["b"],VListTileTitle:y["c"],VProgressCircular:E["a"],VSpacer:S["a"],VSwitch:w["a"]});var R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-footer",{attrs:{app:"",height:"64"}},[i("v-toolbar",{attrs:{flat:""}},[i("v-text-field",{attrs:{clearable:"","prepend-icon":"search",placeholder:"Search"},on:{input:t.searchPlaylist,"click:clear":t.clearField},model:{value:t.searchString,callback:function(e){t.searchString=e},expression:"searchString"}}),i("v-spacer"),i("v-btn",{attrs:{icon:"",dark:""},on:{click:t.openSettings}},[i("v-icon",[t._v("settings")])],1)],1)],1)},V=[],$={name:"Search",data(){return{searchString:""}},computed:{...Object(r["b"])(["settings"])},methods:{searchPlaylist(){this.$emit("search",this.searchString)},clearField(){this.$emit("search","")},openSettings(){this.$eventBus.$emit("open-settings")}}},k=$,x=i("9684"),C=i("a574"),L=i("63ff"),I=Object(u["a"])(k,R,V,!1,null,null,null),P=I.exports;v()(I,{VBtn:m["a"],VFooter:x["a"],VIcon:f["a"],VSpacer:S["a"],VTextField:C["a"],VToolbar:L["a"]});var D={components:{Monitors:O,Search:P},data(){return{filteredMonitors:[],term:""}},methods:{searchPlaylist(t){this.term=t,this.filteredMonitors=this.searchResults(t)}},computed:{...Object(r["b"])(["monitors","searchResults"])}},A=D,q=i("9f84"),N=Object(u["a"])(A,o,s,!1,null,null,null);e["default"]=N.exports;v()(N,{VContent:q["a"]})},"0eed":function(t,e,i){"use strict";i.r(e);var o=i("d66c"),s=i("a3b1"),r=i("fb88"),n=i("0d92");i("cf41");o["default"].use(n["a"],{iconfont:"md"});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",{attrs:{dark:""}},[i("Navigation",{attrs:{monitors:t.monitors},on:{notify:t.notify}}),i("SideMenu",{ref:"sideMenu"}),i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("router-view",{staticClass:"view"})],1),i("monitor",{ref:"newMonitorDialog",attrs:{monitors:t.monitors}}),i("BuyMeCoffee",{ref:"buyMeCoffee"}),t.settings?i("Settings",{ref:"settings",attrs:{settings:t.settings}}):t._e(),i("v-snackbar",{attrs:{bottom:!0,left:!0,color:t.color,timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.text)+"\n    "),i("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)},l=[],c=i("0412"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-toolbar",{directives:[{name:"show",rawName:"v-show",value:"home"==t.$route.name,expression:"$route.name=='home'"}],attrs:{app:"",height:"60px"}},[i("v-toolbar-side-icon",{attrs:{medium:""},on:{click:t.openMenu}}),i("v-spacer"),i("v-toolbar-title",{staticClass:"headline text-uppercase"},[i("v-icon",{attrs:{color:"success",medium:""}},[t._v("insert_chart_outlined")]),i("span",[t._v("Uptime")]),i("span",{staticClass:"font-weight-light"},[t._v("Emitter")])],1),i("v-spacer"),i("v-btn",{attrs:{round:"",color:"success",small:""},on:{click:t.newMonitorForm}},[i("v-icon",[t._v("add")]),t._v(" New monitor\n  ")],1)],1)},d=[],v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition",scrollable:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",{attrs:{tile:""}},[i("v-toolbar",{attrs:{card:"",dark:"",color:"success"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[i("v-icon",[t._v("close")])],1),i("v-toolbar-title",[t._v("New Monitor")]),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{dark:"",flat:""},on:{click:t.saveMonitor}},[t._v("Save")])],1)],1),i("v-card-text",[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-select",{attrs:{items:t.serverOptions,rules:[function(t){return!!t||"Server Protocol is required"}],label:"Server Protocol",required:""},model:{value:t.serverType,callback:function(e){t.serverType=e},expression:"serverType"}}),i("v-text-field",{attrs:{rules:t.titleRules,label:"Title",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),"HTTP"==t.serverType?i("v-text-field",{attrs:{rules:t.urlRules,label:"Address",required:""},model:{value:t.website,callback:function(e){t.website=e},expression:"website"}}):t._e(),"TCP"==t.serverType?i("v-text-field",{attrs:{rules:t.urlRules,label:"Address",required:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}):t._e(),"TCP"==t.serverType?i("v-text-field",{attrs:{rules:[function(t){return!!t||"Port is required"}],label:"Port",required:""},model:{value:t.port,callback:function(e){t.port=e},expression:"port"}}):t._e(),i("v-text-field",{attrs:{rules:t.frequencyRules,label:"Frequency (minutes)",required:""},model:{value:t.interval,callback:function(e){t.interval=e},expression:"interval"}}),i("v-subheader",{staticClass:"mt-2 ml-0 pl-0"},[t._v("Expected Response")]),i("v-text-field",{attrs:{rules:t.statusCodeRules,label:"Status Code",required:""},model:{value:t.statusCode,callback:function(e){t.statusCode=e},expression:"statusCode"}})],1)],1),i("div",{staticStyle:{flex:"1 1 auto"}})],1)],1)],1)],1)},m=[],h={props:{monitors:Array},methods:{closeModal(){this.dialog=!1,this.resetForm()},validate(){let t=!1;return this.$refs.form.validate()&&(this.snackbar=!0,t=!0),t},resetForm(){this.$refs.form.resetValidation(),this.$refs.form.reset()},saveMonitor(){if(!this.validate())return!1;let t={title:this.title,website:this.website,address:this.address,port:this.port,interval:this.interval,statusCode:this.statusCode};this.$store.dispatch("ADD_MONITOR",t),this.closeModal(),this.$eventBus.$emit("alert",{color:"primary",message:"New monitor created",timeout:5e3})},openModal(){this.dialog=!0}},data(){return{dialog:!1,valid:!0,port:null,title:"",titleRules:[t=>!!t||"Title is required"],website:null,address:null,statusCode:200,urlRules:[t=>!!t||"Address is required"],serverType:"HTTP",interval:5,frequencyRules:[t=>t>0&&t<=1440||"Frequency should be from 1 to 1440 minutes"],statusCodeRules:[t=>t>0&&t<=1440||"Frequency should be from 1 to 1440 minutes"],serverOptions:["HTTP","TCP"]}},created(){let t=this;this.$on("close",()=>{t.dialog=!1}),this.$on("open",()=>{t.dialog=!0})}},p=h,f=i("2877"),b=i("6544"),T=i.n(b),_=i("3519"),g=i("239b"),y=i("1660"),E=i("f5b8"),S=i("a33b"),w=i("0255"),M=i("8e56"),O=i("6496"),R=i("adcd"),V=i("3183"),$=i("a574"),k=i("63ff"),x=i("5e74"),C=Object(f["a"])(p,v,m,!1,null,null,null),L=C.exports;T()(C,{VBtn:_["a"],VCard:g["a"],VCardText:y["a"],VDialog:E["a"],VForm:S["a"],VIcon:w["a"],VLayout:M["a"],VSelect:O["a"],VSpacer:R["a"],VSubheader:V["a"],VTextField:$["a"],VToolbar:k["a"],VToolbarItems:x["a"],VToolbarTitle:x["b"]});var I={name:"Search",components:{Monitor:L},methods:{newMonitorForm(){this.$eventBus.$emit("new-monitor")},openMenu(){this.$eventBus.$emit("open-menu")}}},P=I,D=i("6369"),A=Object(f["a"])(P,u,d,!1,null,null,null),q=A.exports;T()(A,{VBtn:_["a"],VIcon:w["a"],VSpacer:R["a"],VToolbar:k["a"],VToolbarSideIcon:D["a"],VToolbarTitle:x["b"]});var N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-xs-center"},[i("v-bottom-sheet",{model:{value:t.sheet,callback:function(e){t.sheet=e},expression:"sheet"}},[i("v-card",{attrs:{tile:""}},[i("v-list",[i("v-list-tile",[i("v-list-tile-content",[i("v-list-tile-title",[i("v-icon",{attrs:{color:"primary"}},[t._v("info")]),t._v(" Please consider buying me coffee if you're enjoying using this app")],1)],1),i("v-list-tile-action",[i("v-btn",{staticStyle:{padding:".5rem"},attrs:{round:"",color:"orange"},on:{click:t.buyMeCoffee}},[i("v-icon",[t._v("sentiment_satisfied")]),t._v(" Buy me coffe\n            ")],1)],1)],1)],1)],1)],1)],1)},j=[],F={data(){return{sheet:!1}},methods:{buyMeCoffee(){this.$store.dispatch("OPEN_LINK",{link:"https://www.buymeacoffee.com/wrFJ6ftAi"})}},created(){this.$on("close",()=>{this.sheet=!1}),this.$on("open",()=>{this.sheet=!0})}},B=F,G=i("1a2a"),U=i("dcfc"),H=i("ea7e"),J=i("8df5"),K=i("23e3"),z=Object(f["a"])(B,N,j,!1,null,null,null),Q=z.exports;T()(z,{VBottomSheet:G["a"],VBtn:_["a"],VCard:g["a"],VIcon:w["a"],VList:U["a"],VListTile:H["a"],VListTileAction:J["a"],VListTileContent:K["a"],VListTileTitle:K["c"]});var Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[i("v-list",{attrs:{dense:""}},[i("v-list-tile",{on:{click:t.openMonitors}},[i("v-list-tile-action",[i("v-icon",[t._v("insert_chart_outlined")])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v("Monitors")])],1)],1),i("v-list-tile",{on:{click:t.openSettings}},[i("v-list-tile-action",[i("v-icon",[t._v("settings")])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v("Settings")])],1)],1)],1),i("div",{staticStyle:{"text-align":"center",bottom:"1rem",position:"fixed",width:"100%"}},[i("p",{staticClass:"mb-1"},[t._v("Are you enjoying using this app?")]),i("v-btn",{staticClass:"mt-0",attrs:{round:"",color:"orange"},on:{click:t.buyMeCoffee}},[i("v-icon",[t._v("sentiment_satisfied")]),t._v(" Please buy me coffe\n    ")],1)],1)],1)},W=[],X={data(){return{sheet:!1,drawer:!1}},methods:{buyMeCoffee(){this.$store.dispatch("OPEN_LINK",{link:"https://www.buymeacoffee.com/wrFJ6ftAi"})},openSettings(){this.$eventBus.$emit("open-settings"),this.drawer=!1},openMonitors(){this.$router.push({path:"/"}),this.drawer=!1}},created(){this.$on("close",()=>{this.drawer=!1}),this.$on("open",()=>{this.drawer=!0})}},Z=X,tt=i("bdd2"),et=Object(f["a"])(Z,Y,W,!1,null,null,null),it=et.exports;T()(et,{VBtn:_["a"],VIcon:w["a"],VList:U["a"],VListTile:H["a"],VListTileAction:J["a"],VListTileContent:K["a"],VListTileTitle:K["c"],VNavigationDrawer:tt["a"]});var ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition",scrollable:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",{attrs:{tile:""}},[i("v-toolbar",{attrs:{card:"",dark:"",color:"dark"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[i("v-icon",[t._v("close")])],1),i("v-toolbar-title",[t._v("Settings")]),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{dark:"",flat:""},on:{click:t.saveSettings}},[t._v("Save")])],1)],1),i("v-card-text",[i("v-list",{attrs:{"three-line":"",subheader:""}},[i("v-list-tile",{attrs:{avatar:""}},[i("v-list-tile-action",[i("v-checkbox",{model:{value:t.settings.notifications,callback:function(e){t.$set(t.settings,"notifications",e)},expression:"settings.notifications"}})],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v("Notifications")]),i("v-list-tile-sub-title",[t._v("Enable desktop notifications")])],1)],1),i("v-list-tile",{attrs:{avatar:""}},[i("v-list-tile-action",[i("v-checkbox",{model:{value:t.settings.sound,callback:function(e){t.$set(t.settings,"sound",e)},expression:"settings.sound"}})],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v("Sound")]),i("v-list-tile-sub-title",[t._v("Enable sound in notifications")])],1)],1)],1)],1),i("div",{staticStyle:{flex:"1 1 auto"}})],1)],1)],1)],1)},st=[],rt={props:{settings:Object},data(){return{dialog:!1}},methods:{closeModal(){this.dialog=!1},openModal(){this.dialog=!0},saveSettings(){this.$store.dispatch("UPDATE_SETTINGS",this.settings),this.$eventBus.$emit("alert",{color:"primary",message:"Settings updated",timeout:5e3})}},created(){this.$on("close",()=>{this.dialog=!1}),this.$on("open",()=>{this.dialog=!0})}},nt=rt,at=i("abb0"),lt=Object(f["a"])(nt,ot,st,!1,null,null,null),ct=lt.exports;T()(lt,{VBtn:_["a"],VCard:g["a"],VCardText:y["a"],VCheckbox:at["a"],VDialog:E["a"],VIcon:w["a"],VLayout:M["a"],VList:U["a"],VListTile:H["a"],VListTileAction:J["a"],VListTileContent:K["a"],VListTileSubTitle:K["b"],VListTileTitle:K["c"],VSpacer:R["a"],VToolbar:k["a"],VToolbarItems:x["a"],VToolbarTitle:x["b"]});var ut={name:"App",components:{Home:c["default"],Navigation:q,Monitor:L,BuyMeCoffee:Q,SideMenu:it,Settings:ct},data(){return{searchString:"",newMonitor:!1,snackbar:!1,color:"",mode:"",timeout:2e4,text:""}},computed:{...Object(s["b"])(["monitors","timers","settings"])},methods:{notify(t,e,i){this.snackbar=!0,this.color=t,this.text=e,this.timeout=i||2e4},networkOnLine(){this.notify("success","Yay!! You are back online :)")},networkOffLine(){this.notify("error","You are offline :(")},restartMonitoring(){this.$store.dispatch({type:"RESTART_SERVER"})},newMonitorForm(){this.$refs.newMonitorDialog.$emit("open")},stopMonitoring(){this.$store.dispatch({type:"PAUSE"})},closeBuyMeCoffee(){this.$refs.buyMeCoffee.$emit("close")},buyMeCoffee(){this.$refs.buyMeCoffee.$emit("open")},openMenu(){this.$refs.sideMenu.$emit("open")},openSettings(){this.$refs.settings.$emit("open")}},mounted(){this.$store.dispatch({type:"FETCH_MONITORS"}),navigator.onLine||(this.networkOffLine(),setTimeout(()=>{this.stopMonitoring()},1e3)),window.addEventListener("online",()=>{this.networkOnLine(),this.restartMonitoring()}),window.addEventListener("offline",()=>{this.networkOffLine(),this.stopMonitoring()}),this.$eventBus.$on("alert",t=>{this.notify(t.color,t.message,t.timeout)}),this.$eventBus.$on("new-monitor",()=>{this.newMonitorForm()}),this.$eventBus.$on("open-menu",()=>{this.openMenu()}),this.$eventBus.$on("open-settings",()=>{this.openSettings()})}},dt=ut,vt=(i("eeef"),i("2573")),mt=i("31c6"),ht=Object(f["a"])(dt,a,l,!1,null,null,null),pt=ht.exports;T()(ht,{VApp:vt["a"],VBtn:_["a"],VSnackbar:mt["a"]});var ft=i("fb5a"),bt=i.n(ft),Tt=(i("b02f"),i("7ab7")),_t=i.n(Tt);const gt=6e4,yt="http://localhost:3160";o["default"].use(s["a"]);var Et=new s["a"].Store({strict:!0,state:{monitors:[],timers:{},requests:{},settings:{},errors:[]},mutations:{SET_MONITORS(t,e){t.monitors=e.monitors},ADD_MONITOR(t,e){t.monitors.push(e.monitor)},TOGGLE_MONITOR_STATE(t,e){let i=t.monitors.find(t=>t.id===e.monitor.id);i.active=e.monitor.active},UPDATE_MONITOR(t,e){let i=t.monitors.find(t=>t.id===e.monitor.id);Object.assign(i,e.monitor)},ADD_TIMER(t,e){t.timers[e.id]=e.timer},STOP_TIMER(t,e){let i=t.timers[e.monitor.id];clearInterval(i),i=null},LOG_ERROR(t,e){t.errors.push(e)},SET_REQUEST(t,e){t.requests[e.monitorId]=e.data.stats||{}},DELETE_MONITOR(t,e){t.monitors=t.monitors.filter(t=>{return t.id!=e.monitor.id})},UPDATE_SETTINGS(t,e){t.settings.notifications=e.settings.notifications,t.settings.sound=e.settings.sound}},getters:{searchResults:t=>e=>{return t.monitors.filter(t=>{return e&&t.title.toLowerCase().includes(e.toLowerCase())||e&&t.host.toLowerCase().includes(e.toLowerCase())})},monitors:t=>{return t.monitors},getMonitor:t=>e=>{return t.monitors.find(t=>t.id===e)},timers:t=>{return t.timers},getRequests:t=>e=>{return t.requests[e]||{}},settings:t=>{return t.settings}},actions:{async FETCH_MONITORS({commit:t,dispatch:e}){try{let{data:o}=await _t()({method:"get",url:"http://localhost:3160/monitors",responseType:"json"});t("SET_MONITORS",o),e("FETCH_SETTINGS"),e("SET_TIMERS")}catch(i){t("LOG_ERROR",i)}},async TOGGLE_MONITOR_STATE({commit:t,dispatch:e},i){try{let{data:s}=await _t()({method:"get",url:`http://localhost:3160/monitors/${i.id}/${i.action}`,responseType:"json"});t("TOGGLE_MONITOR_STATE",s),s.monitor.active?e("ADD_TIMER",s.monitor):t("STOP_TIMER",s)}catch(o){t("LOG_ERROR",o)}},async ADD_MONITOR({commit:t,dispatch:e},i){try{let{data:s}=await _t()({method:"post",url:`${yt}/monitors`,responseType:"json",data:i});t("ADD_MONITOR",s),e("ADD_TIMER",s.monitor),e("FETCH_UPDATE",s.monitor.id)}catch(o){t("LOG_ERROR",o)}},async FETCH_UPDATE({commit:t},e){try{let{data:o}=await _t()({method:"get",url:`${yt}/monitors/${e}`,responseType:"json"});t("UPDATE_MONITOR",o)}catch(i){t("LOG_ERROR",i)}},async UPDATE_MONITOR({commit:t,dispatch:e},i){try{let{data:s}=await _t()({method:"post",url:`${yt}/monitors/${i.id}`,responseType:"json",data:i});t("UPDATE_MONITOR",s),e("FETCH_UPDATE",i.id)}catch(o){t("LOG_ERROR",o)}},async ADD_TIMER({state:t,commit:e,dispatch:i},o){if(o.active){let t=setInterval(function(){i("FETCH_UPDATE",o.id)},o.interval*gt);setTimeout(function(){i("FETCH_UPDATE",o.id)},100),e("ADD_TIMER",{timer:t,id:o.id})}else t.timers&&t.timers[o.id]&&e("STOP_TIMER",{monitor:o})},async SET_TIMERS({state:t,dispatch:e}){t.monitors.forEach(function(t){e("ADD_TIMER",t)})},async PAUSE({state:t,commit:e}){t.monitors.forEach(function(t){e("STOP_TIMER",{monitor:t})})},async RESTART_SERVER({commit:t,dispatch:e}){try{await _t()({method:"get",url:`${yt}/restart`,responseType:"json"}),e("SET_TIMERS")}catch(i){t("LOG_ERROR",i)}},async FETCH_REQUESTS({commit:t},e){try{let{data:o}=await _t()({method:"get",url:`${yt}/requests/${e}`,responseType:"json"});t("SET_REQUEST",{monitorId:e,data:o})}catch(i){t("LOG_ERROR",i)}},async DELETE_MONITOR({commit:t},e){try{t("STOP_TIMER",{monitor:e}),await _t()({method:"post",url:`${yt}/monitors/${e.id}/remove`,responseType:"json"}),t("DELETE_MONITOR",{monitor:e})}catch(i){t("LOG_ERROR",i)}},async FETCH_SETTINGS({commit:t}){try{let{data:i}=await _t()({method:"get",url:`${yt}/settings`,responseType:"json"});t("UPDATE_SETTINGS",i)}catch(e){t("LOG_ERROR",e)}},async UPDATE_SETTINGS({commit:t},e){try{let{data:o}=await _t()({method:"post",url:`${yt}/settings`,responseType:"json",data:e});t("UPDATE_SETTINGS",o)}catch(i){t("LOG_ERROR",i)}},async OPEN_LINK({commit:t},e){try{await _t()({method:"post",url:`${yt}/openlink`,responseType:"json",data:e})}catch(i){t("LOG_ERROR",i)}}}}),St=i("0ddc"),wt=new r["a"]({scrollBehavior:(t,e,i)=>{let o=0;return t.hash?o=t.hash:i&&(o=i.y),Object(St["a"])(o)},routes:[{path:"/",name:"home",components:i("0412")},{path:"/monitor/:monitorId",name:"monitor",components:i("ad1b")}]});o["default"].use(bt.a),o["default"].use(s["a"]),o["default"].use(r["a"]),o["default"].config.productionTip=!0,o["default"].prototype.$eventBus=new o["default"],new o["default"]({render:t=>t(pt),router:wt,store:Et,mounted(){this.$router.push("/")}}).$mount("#app")},"6b73":function(t,e,i){},"8c7b":function(t,e,i){"use strict";var o=i("a144"),s=i.n(o);s.a},a144:function(t,e,i){},ad1b:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{attrs:{row:""}},[i("editMonitor",{ref:"editMonitor",attrs:{monitor:t.monitor}}),i("v-flex",{attrs:{xs12:"",md12:""}},[i("v-card",[i("v-sheet",{staticClass:"v-sheet--offset mx-auto",attrs:{color:t.statusColor,elevation:"12",height:"60px"}},[i("v-layout",{attrs:{column:"","fill-height":""}},[i("v-card-title",[i("v-btn",{attrs:{dark:"",lg:"",icon:""},on:{click:t.goBack}},[i("v-icon",[t._v("chevron_left")])],1),i("v-spacer"),i("v-toolbar-title",[t._v("\n              "+t._s(t.monitor.title)+"\n              "),i("v-icon",[t._v(t._s(t.statusIcon))])],1),i("v-spacer"),i("v-menu",{attrs:{light:"","offset-y":"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[i("v-btn",t._g({attrs:{dark:"",icon:""}},o),[i("v-icon",[t._v("more_vert")])],1)]}}])},[i("v-list",[i("v-list-tile",{on:{click:t.editMonitor}},[i("v-list-tile-title",[i("v-icon",[t._v("edit")]),t._v(" Edit Monitor")],1)],1),this.monitor.active?i("v-list-tile",{on:{click:function(e){return t.toggleMonitor("stop")}}},[i("v-list-tile-title",[i("v-icon",{attrs:{color:"error"}},[t._v("power_settings_new")]),t._v(" Stop Monitor")],1)],1):t._e(),this.monitor.active?t._e():i("v-list-tile",{on:{click:function(e){return t.toggleMonitor("start")}}},[i("v-list-tile-title",[i("v-icon",{attrs:{color:"success"}},[t._v("power_settings_new")]),t._v(" Restart Monitor")],1)],1),i("v-list-tile",{on:{click:t.deleteMonitor}},[i("v-list-tile-title",[i("v-icon",{attrs:{color:"error"}},[t._v("delete")]),t._v(" Delete Monitor")],1)],1)],1)],1)],1),i("v-spacer")],1)],1),i("v-divider"),i("v-list",{attrs:{"two-line":""}},[i("v-list-tile",[i("v-list-tile-action",[i("v-icon",{attrs:{color:"indigo"}},[t._v("mouse")])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v(t._s(t.monitor.website||t.monitor.address+":"+t.monitor.port))]),i("v-list-tile-sub-title",[t._v("Checks every "+t._s(t.monitor.interval)+" minute(s)")])],1),i("v-list-tile-action",[i("v-btn",{attrs:{dark:"",icon:""},on:{click:t.openSite}},[i("v-icon",[t._v("link")])],1)],1)],1),i("v-divider",{attrs:{inset:""}}),i("v-list-tile",[i("v-list-tile-action",[i("v-icon",{attrs:{color:"success"}},[t._v("thumb_up")])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v(t._s(t.upTime(t.monitor.totalDownTimes,t.monitor.totalRequests))+"%")]),i("v-list-tile-sub-title",[t._v("Uptime")])],1)],1),i("v-divider",{attrs:{inset:""}}),i("v-list-tile",[i("v-list-tile-action",[i("v-icon",{attrs:{color:"error"}},[t._v("thumb_down")])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v(t._s(t.monitor.totalDownTimes))]),i("v-list-tile-sub-title",[t._v("Total Downtimes")])],1)],1),i("v-list-tile",[i("v-list-tile-action"),i("v-list-tile-content",[i("v-list-tile-title",[t._v(t._s(t.timeHuman(t.monitor.lastDownTime)))]),i("v-list-tile-sub-title",[t._v("Last Downtime")])],1)],1),i("v-divider",{attrs:{inset:""}}),i("v-list-tile",[i("v-list-tile-action",[i("v-icon",{attrs:{color:"success"}},[t._v("import_export")])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v(t._s(t.monitor.totalRequests))]),i("v-list-tile-sub-title",[t._v("Total Requests")])],1)],1)],1)],1)],1)],1)},s=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition",scrollable:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",{attrs:{tile:""}},[i("v-toolbar",{attrs:{card:"",dark:"",color:"dark"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[i("v-icon",[t._v("close")])],1),i("v-toolbar-title",[t._v("Edit Monitor")]),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{dark:"",flat:""},on:{click:t.saveMonitor}},[t._v("Save")])],1)],1),i("v-card-text",[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-select",{attrs:{items:t.serverOptions,rules:[function(t){return!!t||"Server Protocol is required"}],label:"Server Protocol",required:""},model:{value:t.serverType,callback:function(e){t.serverType=e},expression:"serverType"}}),i("v-text-field",{attrs:{rules:t.titleRules,label:"Title",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),"HTTP"==t.serverType?i("v-text-field",{attrs:{rules:t.urlRules,label:"Address",required:""},model:{value:t.website,callback:function(e){t.website=e},expression:"website"}}):t._e(),"TCP"==t.serverType?i("v-text-field",{attrs:{rules:t.urlRules,label:"Address",required:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}):t._e(),"TCP"==t.serverType?i("v-text-field",{attrs:{rules:[function(t){return!!t||"Port is required"}],label:"Port",required:""},model:{value:t.port,callback:function(e){t.port=e},expression:"port"}}):t._e(),i("v-text-field",{attrs:{rules:t.frequencyRules,label:"Frequency (minutes)",required:""},model:{value:t.interval,callback:function(e){t.interval=e},expression:"interval"}}),i("v-subheader",{staticClass:"mt-2 ml-0 pl-0"},[t._v("Expected Response")]),i("v-text-field",{attrs:{rules:t.statusCodeRules,label:"Status Code",required:""},model:{value:t.statusCode,callback:function(e){t.statusCode=e},expression:"statusCode"}})],1)],1),i("div",{staticStyle:{flex:"1 1 auto"}})],1)],1)],1)],1)},n=[],a={props:{monitor:Object},methods:{closeModal(){this.dialog=!1},validate(){let t=!1;return this.$refs.form.validate()&&(this.snackbar=!0,t=!0),t},resetForm(){this.title="",this.website="",this.address="",this.port=null,this.interval=5,this.$refs.form.resetValidation(),this.$refs.form.reset()},saveMonitor(){if(!this.validate())return!1;let t={id:this.monitor.id,title:this.title,website:this.website,address:this.address,port:this.port,interval:this.interval,statusCode:this.statusCode};this.$store.dispatch("UPDATE_MONITOR",t),this.closeModal(),this.$eventBus.$emit("alert",{color:"primary",message:"Monitor updated",timeout:5e3})},openModal(){this.dialog=!0}},data(){return{dialog:!1,valid:!0,port:this.monitor.port,title:this.monitor.title,titleRules:[t=>!!t||"Title is required"],website:this.monitor.website,address:this.monitor.address,statusCode:this.monitor.expect&&this.monitor.expect.statusCode?this.monitor.expect.statusCode:200,urlRules:[t=>!!t||"Address is required"],serverType:this.monitor.website?"HTTP":"TCP",interval:this.monitor.interval?this.monitor.interval:5,frequencyRules:[t=>t>0&&t<=1440||"Frequency should be from 1 to 1440 minutes"],statusCodeRules:[t=>t>0&&t<=1440||"Frequency should be from 1 to 1440 minutes"],serverOptions:["HTTP","TCP"]}},created(){let t=this;this.$on("close",()=>{t.dialog=!1}),this.$on("open",()=>{t.dialog=!0})}},l=a,c=i("2877"),u=i("6544"),d=i.n(u),v=i("3519"),m=i("239b"),h=i("1660"),p=i("f5b8"),f=i("a33b"),b=i("0255"),T=i("8e56"),_=i("6496"),g=i("adcd"),y=i("3183"),E=i("a574"),S=i("63ff"),w=i("5e74"),M=Object(c["a"])(l,r,n,!1,null,null,null),O=M.exports;d()(M,{VBtn:v["a"],VCard:m["a"],VCardText:h["a"],VDialog:p["a"],VForm:f["a"],VIcon:b["a"],VLayout:T["a"],VSelect:_["a"],VSpacer:g["a"],VSubheader:y["a"],VTextField:E["a"],VToolbar:S["a"],VToolbarItems:w["a"],VToolbarTitle:w["b"]});var R=i("a3b1"),V={components:{editMonitor:O},data(){return{monitor:{}}},computed:{statusIcon(){let t="";return t=this.monitor.active?this.monitor.isUp?"thumb_up":"thumb_down":"wifi_off",t},statusColor(){let t="";return t=this.monitor.active?this.monitor.isUp?"success":"error":"grey",t},...Object(R["b"])(["getMonitor"])},methods:{goBack(){this.$router.back()},upTime(t,e){let i=e-t;return parseFloat(i/e*100).toFixed(2)},timeHuman(t){return new Date(t).toLocaleString()},editMonitor(){this.$refs.editMonitor.$emit("open")},deleteMonitor(){this.$store.dispatch("DELETE_MONITOR",this.monitor),this.$router.push({path:"/"}),this.$eventBus.$emit("alert",{color:"error",message:"Monitor deleted",timeout:5e3})},toggleMonitor(t){this.$nextTick(()=>{this.$store.dispatch("TOGGLE_MONITOR_STATE",{id:this.monitor.id,action:t})})},openSite(){this.$store.dispatch("OPEN_LINK",{link:this.monitor.website||this.monitor.address+":"+this.monitor.host})}},created(){const t=this.$route.params.monitorId;this.monitor=this.getMonitor(t)}},$=V,k=i("a38b"),x=i("10aa"),C=i("e65a"),L=i("dcfc"),I=i("ea7e"),P=i("8df5"),D=i("23e3"),A=i("8efd"),q=i("ca50"),N=Object(c["a"])($,o,s,!1,null,null,null);e["default"]=N.exports;d()(N,{VBtn:v["a"],VCard:m["a"],VCardTitle:k["a"],VDivider:x["a"],VFlex:C["a"],VIcon:b["a"],VLayout:T["a"],VList:L["a"],VListTile:I["a"],VListTileAction:P["a"],VListTileContent:D["a"],VListTileSubTitle:D["b"],VListTileTitle:D["c"],VMenu:A["a"],VSheet:q["a"],VSpacer:g["a"],VToolbarTitle:w["b"]})},eeef:function(t,e,i){"use strict";var o=i("6b73"),s=i.n(o);s.a}});
//# sourceMappingURL=index.ff24a754.js.map