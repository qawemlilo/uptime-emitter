(function(t){function e(e){for(var o,a,l=e[0],n=e[1],c=e[2],d=0,v=[];d<l.length;d++)a=l[d],r[a]&&v.push(r[a][0]),r[a]=0;for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);u&&u(e);while(v.length)v.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],o=!0,l=1;l<i.length;l++){var n=i[l];0!==r[n]&&(o=!1)}o&&(s.splice(e--,1),t=a(a.s=i[0]))}return t}var o={},r={index:0},s=[];function a(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=o,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(i,o,function(e){return t[e]}.bind(null,o));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],n=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=n;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("0eed")},"0412":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-content",[t.term?t._e():i("monitors",{attrs:{monitors:t.monitors}}),t.term?i("monitors",{attrs:{monitors:t.filteredMonitors}}):t._e(),i("Search",{on:{search:t.searchPlaylist}})],1)},r=[],s=i("a3b1"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-card-title",{staticClass:"mb-0",attrs:{"primary-title":"",color:"dark"}},[i("div",{staticClass:"headline"},[t._v("Monitors")])]),i("v-list",{staticClass:"mt-0",attrs:{"two-line":""}},t._l(t.monitors,function(e,o){return i("v-list-tile",{key:o,class:[{even:o%2==0}]},[i("v-list-tile-avatar",{staticStyle:{cursor:"pointer"},attrs:{medium:""},on:{click:function(i){return t.goTo(e.id)}}},[0===e.totalRequests?i("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}}):t._e(),e.totalRequests>0?i("v-icon",{class:t.getClass(e.active,e.isUp)},[t._v(t._s(t.getIcon(e.active,e.isUp)))]):t._e()],1),i("v-list-tile-content",{staticStyle:{cursor:"pointer"},on:{click:function(i){return t.goTo(e.id)}}},[i("v-list-tile-title",[t._v("\n          "+t._s(e.title)+"\n          "),e.totalRequests>0?i("v-icon",{attrs:{ml:"5",color:t.getClass(e.active,e.isUp)}},[t._v("trending_up")]):t._e(),e.totalRequests>0?i("span",[t._v(t._s(t.percentage(e.totalDownTimes,e.totalRequests))+"%")]):t._e()],1),i("v-list-tile-sub-title",[t._v(t._s(e.website))])],1),i("v-spacer"),i("v-list-tile-action",[i("v-switch",{attrs:{"input-value":e.active},on:{change:function(i){return t.toggleMonitor(e.id,i)}}})],1)],1)}),1)],1)},l=[],n={props:{monitors:Array},methods:{getIcon(t,e){let i="";return t&&e?i="thumb_up":t&&!e?i="thumb_down":t||(i="wifi_off"),i},getClass(t,e){let i="";return t&&e?i="success":t&&!e?i="error":t||e||(i="grey"),i},turnOn(){this.$refs.newMonitorDialog.$emit("open")},percentage(t,e){let i=e-t;return parseFloat(i/e*100).toFixed(2)},toggleMonitor(t,e){this.$nextTick(()=>{this.$store.dispatch("TOGGLE_MONITOR_STATE",{id:t,action:e?"start":"stop"})})},goTo(t){this.$router.push("/monitor/"+t)}},data(){return{styles:{active:"success"},classes:{active:"success"}}}},c=n,u=(i("d512"),i("2877")),d=i("6544"),v=i.n(d),m=i("239b"),p=i("a38b"),h=i("0255"),f=i("dcfc"),b=i("ea7e"),T=i("8df5"),_=i("388e"),g=i("23e3"),y=i("0520"),R=i("adcd"),O=i("9339"),E=Object(u["a"])(c,a,l,!1,null,"17279146",null),w=E.exports;v()(E,{VCard:m["a"],VCardTitle:p["a"],VIcon:h["a"],VList:f["a"],VListTile:b["a"],VListTileAction:T["a"],VListTileAvatar:_["a"],VListTileContent:g["a"],VListTileSubTitle:g["b"],VListTileTitle:g["c"],VProgressCircular:y["a"],VSpacer:R["a"],VSwitch:O["a"]});var V=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-footer",{attrs:{app:"",height:"64"}},[i("v-toolbar",{attrs:{flat:""}},[i("v-text-field",{attrs:{clearable:"","prepend-icon":"search",placeholder:"Search"},on:{input:t.searchPlaylist,"click:clear":t.clearField},model:{value:t.searchString,callback:function(e){t.searchString=e},expression:"searchString"}}),i("v-spacer"),i("v-btn",{attrs:{icon:"",dark:""},on:{click:t.openSettings}},[i("v-icon",[t._v("settings")])],1)],1),i("settings",{ref:"settings"})],1)},M=[],k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition",scrollable:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",{attrs:{tile:""}},[i("v-toolbar",{attrs:{card:"",dark:"",color:"dark"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[i("v-icon",[t._v("close")])],1),i("v-toolbar-title",[t._v("New Monitor")]),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("Save")])],1)],1),i("v-card-text",[i("v-list",{attrs:{"three-line":"",subheader:""}},[i("v-subheader",[t._v("General")]),i("v-list-tile",{attrs:{avatar:""}},[i("v-list-tile-action",[i("v-checkbox",{model:{value:t.notifications,callback:function(e){t.notifications=e},expression:"notifications"}})],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v("Notifications")]),i("v-list-tile-sub-title",[t._v("Notify me about updates to apps or games that I downloaded")])],1)],1),i("v-list-tile",{attrs:{avatar:""}},[i("v-list-tile-action",[i("v-checkbox",{model:{value:t.sound,callback:function(e){t.sound=e},expression:"sound"}})],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v("Sound")]),i("v-list-tile-sub-title",[t._v("Auto-update apps at any time. Data charges may apply")])],1)],1),i("v-list-tile",{attrs:{avatar:""}},[i("v-list-tile-action",[i("v-checkbox",{model:{value:t.widgets,callback:function(e){t.widgets=e},expression:"widgets"}})],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v("Auto-add widgets")]),i("v-list-tile-sub-title",[t._v("Automatically add home screen widgets")])],1)],1),i("v-subheader",[t._v("General")])],1)],1),i("div",{staticStyle:{flex:"1 1 auto"}})],1)],1)],1)],1)},x=[],S={methods:{closeModal(){this.dialog=!1},openModal(){this.dialog=!0}},data(){return{notifications:!1,sound:!0,widgets:!1,dialog:!1}},created(){let t=this;this.$on("close",()=>{t.dialog=!1}),this.$on("open",()=>{t.dialog=!0})}},C=S,$=i("3519"),I=i("1660"),L=i("abb0"),D=i("f5b8"),P=i("8e56"),A=i("3183"),q=i("63ff"),j=i("5e74"),N=Object(u["a"])(C,k,x,!1,null,null,null),F=N.exports;v()(N,{VBtn:$["a"],VCard:m["a"],VCardText:I["a"],VCheckbox:L["a"],VDialog:D["a"],VIcon:h["a"],VLayout:P["a"],VList:f["a"],VListTile:b["a"],VListTileAction:T["a"],VListTileContent:g["a"],VListTileSubTitle:g["b"],VListTileTitle:g["c"],VSpacer:R["a"],VSubheader:A["a"],VToolbar:q["a"],VToolbarItems:j["a"],VToolbarTitle:j["b"]});var U={name:"Search",components:{Settings:F},data(){return{searchString:""}},methods:{searchPlaylist(){this.$emit("search",this.searchString)},clearField(){this.$emit("search","")},openSettings(){this.$refs.settings.$emit("open")}}},G=U,H=i("9684"),B=i("a574"),z=Object(u["a"])(G,V,M,!1,null,null,null),Q=z.exports;v()(z,{VBtn:$["a"],VFooter:H["a"],VIcon:h["a"],VSpacer:R["a"],VTextField:B["a"],VToolbar:q["a"]});var Y={components:{Monitors:w,Search:Q},data(){return{filteredMonitors:[],term:""}},methods:{searchPlaylist(t){this.term=t,this.filteredMonitors=this.searchResults(t)}},computed:{...Object(s["b"])(["monitors","searchResults"])}},J=Y,K=i("9f84"),W=Object(u["a"])(J,o,r,!1,null,null,null);e["default"]=W.exports;v()(W,{VContent:K["a"]})},"0eed":function(t,e,i){"use strict";i.r(e);var o=i("d66c"),r=i("a3b1"),s=i("fb88"),a=i("0d92");i("cf41");o["default"].use(a["a"],{iconfont:"md"});var l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",{attrs:{dark:""}},[i("Navigation",{attrs:{monitors:t.monitors}}),i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("router-view",{staticClass:"view"})],1),i("v-snackbar",{attrs:{bottom:!0,color:t.color,timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.text)+"\n    "),i("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)},n=[],c=i("0412"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-toolbar",{directives:[{name:"show",rawName:"v-show",value:"home"==t.$route.name,expression:"$route.name=='home'"}],attrs:{app:"",height:"60px"}},[i("v-toolbar-title",{staticClass:"headline text-uppercase"},[i("v-icon",{attrs:{color:"success",medium:""}},[t._v("insert_chart_outlined")]),i("span",[t._v("Uptime")]),i("span",{staticClass:"font-weight-light"},[t._v("Emitter")])],1),i("v-spacer"),i("v-btn",{attrs:{icon:"",small:"",fab:"",color:"success"},on:{click:t.addNewMonitor}},[i("v-icon",[t._v("add")])],1),i("monitor",{ref:"newMonitorDialog",attrs:{monitors:t.monitors}})],1)},d=[],v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition",scrollable:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",{attrs:{tile:""}},[i("v-toolbar",{attrs:{card:"",dark:"",color:"success"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[i("v-icon",[t._v("close")])],1),i("v-toolbar-title",[t._v("New Monitor")]),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{dark:"",flat:""},on:{click:t.saveMonitor}},[t._v("Save")])],1)],1),i("v-card-text",[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-select",{attrs:{items:t.serverOptions,rules:[function(t){return!!t||"Server Protocol is required"}],label:"Server Protocol",required:""},model:{value:t.serverType,callback:function(e){t.serverType=e},expression:"serverType"}}),i("v-text-field",{attrs:{rules:t.titleRules,label:"Title",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),"HTTP"==t.serverType?i("v-text-field",{attrs:{rules:t.urlRules,label:"Address",required:""},model:{value:t.website,callback:function(e){t.website=e},expression:"website"}}):t._e(),"TCP"==t.serverType?i("v-text-field",{attrs:{rules:t.urlRules,label:"Address",required:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}):t._e(),"TCP"==t.serverType?i("v-text-field",{attrs:{rules:[function(t){return!!t||"Port is required"}],label:"Port",required:""},model:{value:t.port,callback:function(e){t.port=e},expression:"port"}}):t._e(),i("v-text-field",{attrs:{rules:t.frequencyRules,label:"Frequency (minutes)",required:""},model:{value:t.interval,callback:function(e){t.interval=e},expression:"interval"}}),i("v-subheader",{staticClass:"mt-2 ml-0 pl-0"},[t._v("Expected Response")]),i("v-text-field",{attrs:{rules:t.statusCodeRules,label:"Status Code",required:""},model:{value:t.statusCode,callback:function(e){t.statusCode=e},expression:"statusCode"}})],1)],1),i("div",{staticStyle:{flex:"1 1 auto"}})],1)],1)],1)],1)},m=[],p={props:{monitors:Array},methods:{closeModal(){this.dialog=!1,this.resetForm()},validate(){let t=!1;return this.$refs.form.validate()&&(this.snackbar=!0,t=!0),t},resetForm(){this.title="",this.website="",this.address="",this.port=null,this.interval=5,this.$refs.form.resetValidation(),this.$refs.form.reset()},saveMonitor(){if(!this.validate())return!1;let t={title:this.title,website:this.website,address:this.address,port:this.port,interval:this.interval,statusCode:this.statusCode};this.$store.dispatch("ADD_MONITOR",t),this.closeModal()},openModal(){this.dialog=!0}},data(){return{dialog:!1,valid:!0,port:null,title:"",titleRules:[t=>!!t||"Title is required"],website:null,address:null,statusCode:200,urlRules:[t=>!!t||"Address is required"],serverType:"HTTP",interval:5,frequencyRules:[t=>t>0&&t<=1440||"Frequency should be from 1 to 1440 minutes"],statusCodeRules:[t=>t>0&&t<=1440||"Frequency should be from 1 to 1440 minutes"],serverOptions:["HTTP","TCP"]}},created(){let t=this;this.$on("close",()=>{t.dialog=!1}),this.$on("open",()=>{t.dialog=!0})}},h=p,f=i("2877"),b=i("6544"),T=i.n(b),_=i("3519"),g=i("239b"),y=i("1660"),R=i("f5b8"),O=i("a33b"),E=i("0255"),w=i("8e56"),V=i("6496"),M=i("adcd"),k=i("3183"),x=i("a574"),S=i("63ff"),C=i("5e74"),$=Object(f["a"])(h,v,m,!1,null,null,null),I=$.exports;T()($,{VBtn:_["a"],VCard:g["a"],VCardText:y["a"],VDialog:R["a"],VForm:O["a"],VIcon:E["a"],VLayout:w["a"],VSelect:V["a"],VSpacer:M["a"],VSubheader:k["a"],VTextField:x["a"],VToolbar:S["a"],VToolbarItems:C["a"],VToolbarTitle:C["b"]});var L={name:"Search",props:{monitors:Array},components:{Monitor:I},methods:{addNewMonitor(){this.$refs.newMonitorDialog.$emit("open")}}},D=L,P=Object(f["a"])(D,u,d,!1,null,null,null),A=P.exports;T()(P,{VBtn:_["a"],VIcon:E["a"],VSpacer:M["a"],VToolbar:S["a"],VToolbarTitle:C["b"]});var q={name:"App",components:{Home:c["default"],Navigation:A},data(){return{searchString:"",drawer:null,items:[{title:"Home",icon:"dashboard"},{title:"About",icon:"question_answer"}],newMonitor:!1,snackbar:!1,color:"",mode:"",timeout:2e4,text:""}},computed:{...Object(r["b"])(["monitors","timers","searchResults"])},methods:{networkOnLine(){this.snackbar=!0,this.color="success",this.text="Yay!! You are back online :)"},networkOffLine(){this.snackbar=!0,this.color="error",this.text="You are offline :("},restartMonitoring(){this.$store.dispatch({type:"RESTART_SERVER"})},stopMonitoring(){this.$store.dispatch({type:"PAUSE"})}},mounted(){const t=this;this.$store.dispatch({type:"FETCH_MONITORS"}),navigator.onLine||(t.networkOffLine(),setTimeout(function(){t.stopMonitoring()},1e3)),window.addEventListener("online",()=>{t.networkOnLine(),t.restartMonitoring()}),window.addEventListener("offline",()=>{t.networkOffLine(),t.stopMonitoring()})}},j=q,N=(i("eeef"),i("2573")),F=i("31c6"),U=Object(f["a"])(j,l,n,!1,null,null,null),G=U.exports;T()(U,{VApp:N["a"],VBtn:_["a"],VSnackbar:F["a"]});var H=i("fb5a"),B=i.n(H),z=(i("b02f"),i("7ab7")),Q=i.n(z);const Y=6e4,J="http://localhost:3160";o["default"].use(r["a"]);var K=new r["a"].Store({strict:!0,state:{monitors:[],timers:{},requests:{},errors:[]},mutations:{SET_MONITORS(t,e){t.monitors=e.monitors},ADD_MONITOR(t,e){t.monitors.push(e.monitor)},TOGGLE_MONITOR_STATE(t,e){let i=t.monitors.find(t=>t.id===e.monitor.id);i.active=e.monitor.active},UPDATE_MONITOR(t,e){let i=t.monitors.find(t=>t.id===e.monitor.id);Object.assign(i,e.monitor)},ADD_TIMER(t,e){t.timers[e.id]=e.timer},STOP_TIMER(t,e){let i=t.timers[e.monitor.id];clearInterval(i),i=null},LOG_ERROR(t,e){t.errors.push(e)},SET_REQUEST(t,e){t.requests[e.monitorId]=e.data.stats||{}},DELETE_MONITOR(t,e){t.monitors=t.monitors.filter(t=>{return t.id!=e.monitor.id})}},getters:{searchResults:t=>e=>{return t.monitors.filter(t=>{return e&&t.title.toLowerCase().includes(e.toLowerCase())||e&&t.host.toLowerCase().includes(e.toLowerCase())})},monitors:t=>{return t.monitors},getMonitor:t=>e=>{return t.monitors.find(t=>t.id===e)},timers:t=>{return t.timers},getRequests:t=>e=>{return t.requests[e]||{}}},actions:{async FETCH_MONITORS({commit:t,dispatch:e}){try{let{data:o}=await Q()({method:"get",url:"http://localhost:3160/monitors",responseType:"json"});t("SET_MONITORS",o),e("SET_TIMERS")}catch(i){t("LOG_ERROR",i)}},async TOGGLE_MONITOR_STATE({commit:t,dispatch:e},i){try{let{data:r}=await Q()({method:"get",url:`http://localhost:3160/monitors/${i.id}/${i.action}`,responseType:"json"});t("TOGGLE_MONITOR_STATE",r),r.monitor.active?e("ADD_TIMER",r.monitor):t("STOP_TIMER",r)}catch(o){t("LOG_ERROR",o)}},async ADD_MONITOR({commit:t,dispatch:e},i){try{let{data:r}=await Q()({method:"post",url:`${J}/monitors`,responseType:"json",data:i});t("ADD_MONITOR",r),e("ADD_TIMER",r.monitor),e("FETCH_UPDATE",r.monitor.id)}catch(o){t("LOG_ERROR",o)}},async FETCH_UPDATE({commit:t},e){try{let{data:o}=await Q()({method:"get",url:`${J}/monitors/${e}`,responseType:"json"});t("UPDATE_MONITOR",o)}catch(i){t("LOG_ERROR",i)}},async UPDATE_MONITOR({commit:t,dispatch:e},i){try{let{data:r}=await Q()({method:"post",url:`${J}/monitors/${i.id}`,responseType:"json",data:i});t("UPDATE_MONITOR",r),e("FETCH_UPDATE",i.id)}catch(o){t("LOG_ERROR",o)}},async ADD_TIMER({state:t,commit:e,dispatch:i},o){if(o.active){let t=setInterval(function(){i("FETCH_UPDATE",o.id)},o.interval*Y);i("FETCH_UPDATE",o.id),e("ADD_TIMER",{timer:t,id:o.id})}else t.timers&&t.timers[o.id]&&e("STOP_TIMER",{monitor:o})},async SET_TIMERS({state:t,dispatch:e}){t.monitors.forEach(function(t){e("ADD_TIMER",t)})},async PAUSE({state:t,commit:e}){t.monitors.forEach(function(t){e("STOP_TIMER",{monitor:t})})},async RESTART_SERVER({commit:t,dispatch:e}){try{await Q()({method:"get",url:`${J}/restart`,responseType:"json"}),e("SET_TIMERS")}catch(i){t("LOG_ERROR",i)}},async FETCH_REQUESTS({commit:t},e){try{let{data:o}=await Q()({method:"get",url:`${J}/requests/${e}`,responseType:"json"});t("SET_REQUEST",{monitorId:e,data:o})}catch(i){t("LOG_ERROR",i)}},async DELETE_MONITOR({commit:t},e){try{t("STOP_TIMER",{monitor:e}),await Q()({method:"post",url:`${J}/monitors/${e.id}/remove`,responseType:"json"}),t("DELETE_MONITOR",{monitor:e})}catch(i){t("LOG_ERROR",i)}}}}),W=i("0ddc"),X=new s["a"]({scrollBehavior:(t,e,i)=>{let o=0;return t.hash?o=t.hash:i&&(o=i.y),Object(W["a"])(o)},routes:[{path:"/",name:"home",components:i("0412")},{path:"/monitor/:monitorId",name:"monitor",components:i("ad1b")}]});o["default"].use(B.a),o["default"].use(r["a"]),o["default"].use(s["a"]),o["default"].config.productionTip=!0,new o["default"]({render:t=>t(G),router:X,store:K,mounted(){this.$router.push("/")}}).$mount("#app")},"6b73":function(t,e,i){},ad1b:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{attrs:{row:""}},[i("editMonitor",{ref:"editMonitor",attrs:{monitor:t.monitor}}),i("v-flex",{attrs:{xs12:"",md12:""}},[i("v-card",[i("v-sheet",{staticClass:"v-sheet--offset mx-auto",attrs:{color:t.statusColor,elevation:"12",height:"60px"}},[i("v-layout",{attrs:{column:"","fill-height":""}},[i("v-card-title",[i("v-btn",{attrs:{dark:"",lg:"",icon:""},on:{click:t.goBack}},[i("v-icon",[t._v("chevron_left")])],1),i("v-spacer"),i("v-toolbar-title",[t._v("\n              "+t._s(t.monitor.title)+"\n              "),i("v-icon",[t._v(t._s(t.statusIcon))])],1),i("v-spacer"),i("v-menu",{attrs:{light:"","offset-y":"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[i("v-btn",t._g({attrs:{dark:"",icon:""}},o),[i("v-icon",[t._v("more_vert")])],1)]}}])},[i("v-list",[i("v-list-tile",{on:{click:t.editMonitor}},[i("v-list-tile-title",[i("v-icon",[t._v("edit")]),t._v(" Edit Monitor")],1)],1),this.monitor.active?i("v-list-tile",{on:{click:function(e){return t.toggleMonitor("stop")}}},[i("v-list-tile-title",[i("v-icon",{attrs:{color:"error"}},[t._v("power_settings_new")]),t._v(" Stop Monitor")],1)],1):t._e(),this.monitor.active?t._e():i("v-list-tile",{on:{click:function(e){return t.toggleMonitor("start")}}},[i("v-list-tile-title",[i("v-icon",{attrs:{color:"success"}},[t._v("power_settings_new")]),t._v(" Restart Monitor")],1)],1),i("v-list-tile",{on:{click:t.deleteMonitor}},[i("v-list-tile-title",[i("v-icon",{attrs:{color:"error"}},[t._v("delete")]),t._v(" Delete Monitor")],1)],1)],1)],1)],1),i("v-spacer")],1)],1),i("v-divider"),i("v-list",{attrs:{"two-line":""}},[i("v-list-tile",[i("v-list-tile-action",[i("v-icon",{attrs:{color:"indigo"}},[t._v("mouse")])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v(t._s(t.monitor.website||t.monitor.address+":"+t.monitor.port))]),i("v-list-tile-sub-title",[t._v("Checks every "+t._s(t.monitor.interval)+" minute(s)")])],1),i("v-list-tile-action",[i("v-icon",[t._v("link")])],1)],1),i("v-divider",{attrs:{inset:""}}),i("v-list-tile",[i("v-list-tile-action",[i("v-icon",{attrs:{color:"success"}},[t._v("thumb_up")])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v(t._s(t.upTime(t.monitor.totalDownTimes,t.monitor.totalRequests))+"%")]),i("v-list-tile-sub-title",[t._v("Uptime")])],1)],1),i("v-divider",{attrs:{inset:""}}),i("v-list-tile",[i("v-list-tile-action",[i("v-icon",{attrs:{color:"error"}},[t._v("thumb_down")])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v(t._s(t.monitor.totalDownTimes))]),i("v-list-tile-sub-title",[t._v("Total Downtimes")])],1)],1),i("v-list-tile",[i("v-list-tile-action"),i("v-list-tile-content",[i("v-list-tile-title",[t._v(t._s(t.timeHuman(t.monitor.lastDownTime)))]),i("v-list-tile-sub-title",[t._v("Last Downtime")])],1)],1),i("v-divider",{attrs:{inset:""}}),i("v-list-tile",[i("v-list-tile-action",[i("v-icon",{attrs:{color:"success"}},[t._v("import_export")])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v(t._s(t.monitor.totalRequests))]),i("v-list-tile-sub-title",[t._v("Total Requests")])],1)],1)],1)],1)],1)],1)},r=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-layout",{attrs:{row:"","justify-center":""}},[i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition",scrollable:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",{attrs:{tile:""}},[i("v-toolbar",{attrs:{card:"",dark:"",color:"dark"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[i("v-icon",[t._v("close")])],1),i("v-toolbar-title",[t._v("Edit Monitor")]),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{dark:"",flat:""},on:{click:t.saveMonitor}},[t._v("Save")])],1)],1),i("v-card-text",[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-select",{attrs:{items:t.serverOptions,rules:[function(t){return!!t||"Server Protocol is required"}],label:"Server Protocol",required:""},model:{value:t.serverType,callback:function(e){t.serverType=e},expression:"serverType"}}),i("v-text-field",{attrs:{rules:t.titleRules,label:"Title",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),"HTTP"==t.serverType?i("v-text-field",{attrs:{rules:t.urlRules,label:"Address",required:""},model:{value:t.website,callback:function(e){t.website=e},expression:"website"}}):t._e(),"TCP"==t.serverType?i("v-text-field",{attrs:{rules:t.urlRules,label:"Address",required:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}):t._e(),"TCP"==t.serverType?i("v-text-field",{attrs:{rules:[function(t){return!!t||"Port is required"}],label:"Port",required:""},model:{value:t.port,callback:function(e){t.port=e},expression:"port"}}):t._e(),i("v-text-field",{attrs:{rules:t.frequencyRules,label:"Frequency (minutes)",required:""},model:{value:t.interval,callback:function(e){t.interval=e},expression:"interval"}}),i("v-subheader",{staticClass:"mt-2 ml-0 pl-0"},[t._v("Expected Response")]),i("v-text-field",{attrs:{rules:t.statusCodeRules,label:"Status Code",required:""},model:{value:t.statusCode,callback:function(e){t.statusCode=e},expression:"statusCode"}})],1)],1),i("div",{staticStyle:{flex:"1 1 auto"}})],1)],1)],1)],1)},a=[],l={props:{monitor:Object},methods:{closeModal(){this.dialog=!1},validate(){let t=!1;return this.$refs.form.validate()&&(this.snackbar=!0,t=!0),t},resetForm(){this.title="",this.website="",this.address="",this.port=null,this.interval=5,this.$refs.form.resetValidation(),this.$refs.form.reset()},saveMonitor(){if(!this.validate())return!1;let t={id:this.monitor.id,title:this.title,website:this.website,address:this.address,port:this.port,interval:this.interval,statusCode:this.statusCode};this.$store.dispatch("UPDATE_MONITOR",t),this.closeModal()},openModal(){this.dialog=!0}},data(){return{dialog:!1,valid:!0,port:this.monitor.port,title:this.monitor.title,titleRules:[t=>!!t||"Title is required"],website:this.monitor.website,address:this.monitor.address,statusCode:this.monitor.expect&&this.monitor.expect.statusCode?this.monitor.expect.statusCode:200,urlRules:[t=>!!t||"Address is required"],serverType:this.monitor.website?"HTTP":"TCP",interval:this.monitor.interval?this.monitor.interval:5,frequencyRules:[t=>t>0&&t<=1440||"Frequency should be from 1 to 1440 minutes"],statusCodeRules:[t=>t>0&&t<=1440||"Frequency should be from 1 to 1440 minutes"],serverOptions:["HTTP","TCP"]}},created(){let t=this;this.$on("close",()=>{t.dialog=!1}),this.$on("open",()=>{t.dialog=!0})}},n=l,c=i("2877"),u=i("6544"),d=i.n(u),v=i("3519"),m=i("239b"),p=i("1660"),h=i("f5b8"),f=i("a33b"),b=i("0255"),T=i("8e56"),_=i("6496"),g=i("adcd"),y=i("3183"),R=i("a574"),O=i("63ff"),E=i("5e74"),w=Object(c["a"])(n,s,a,!1,null,null,null),V=w.exports;d()(w,{VBtn:v["a"],VCard:m["a"],VCardText:p["a"],VDialog:h["a"],VForm:f["a"],VIcon:b["a"],VLayout:T["a"],VSelect:_["a"],VSpacer:g["a"],VSubheader:y["a"],VTextField:R["a"],VToolbar:O["a"],VToolbarItems:E["a"],VToolbarTitle:E["b"]});var M=i("a3b1"),k={components:{editMonitor:V},data(){return{monitor:{}}},computed:{statusIcon(){let t="";return t=this.monitor.active?this.monitor.isUp?"thumb_up":"thumb_down":"wifi_off",t},statusColor(){let t="";return t=this.monitor.active?this.monitor.isUp?"success":"error":"grey",t},...Object(M["b"])(["getMonitor"])},methods:{goBack(){this.$router.back()},upTime(t,e){let i=e-t;return parseFloat(i/e*100).toFixed(2)},timeHuman(t){return new Date(t).toLocaleString()},editMonitor(){this.$refs.editMonitor.$emit("open")},deleteMonitor(){this.$store.dispatch("DELETE_MONITOR",this.monitor),this.$router.push({path:"/"})},toggleMonitor(t){this.$nextTick(()=>{this.$store.dispatch("TOGGLE_MONITOR_STATE",{id:this.monitor.id,action:t})})}},created(){const t=this.$route.params.monitorId;this.monitor=this.getMonitor(t)}},x=k,S=i("a38b"),C=i("10aa"),$=i("e65a"),I=i("dcfc"),L=i("ea7e"),D=i("8df5"),P=i("23e3"),A=i("8efd"),q=i("ca50"),j=Object(c["a"])(x,o,r,!1,null,null,null);e["default"]=j.exports;d()(j,{VBtn:v["a"],VCard:m["a"],VCardTitle:S["a"],VDivider:C["a"],VFlex:$["a"],VIcon:b["a"],VLayout:T["a"],VList:I["a"],VListTile:L["a"],VListTileAction:D["a"],VListTileContent:P["a"],VListTileSubTitle:P["b"],VListTileTitle:P["c"],VMenu:A["a"],VSheet:q["a"],VSpacer:g["a"],VToolbarTitle:E["b"]})},bf21:function(t,e,i){},d512:function(t,e,i){"use strict";var o=i("bf21"),r=i.n(o);r.a},eeef:function(t,e,i){"use strict";var o=i("6b73"),r=i.n(o);r.a}});
//# sourceMappingURL=index.f9b61d56.js.map