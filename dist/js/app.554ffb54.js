(function(t){function e(e){for(var n,a,s=e[0],c=e[1],l=e[2],d=0,p=[];d<s.length;d++)a=s[d],i[a]&&p.push(i[a][0]),i[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,s=1;s<r.length;s++){var c=r[s];0!==i[c]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},i={app:0},o=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var n=r("19b3"),i=r.n(n);i.a},"19b3":function(t,e,r){},"54b4":function(t,e,r){"use strict";var n=r("d151"),i=r.n(n);i.a},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),i=r("2f62"),o=r("bb71");r("da64");n["default"].use(o["a"],{iconfont:"md"});var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{dark:""}},[r("v-toolbar",{attrs:{app:""}},[r("v-toolbar-title",{staticClass:"headline text-uppercase"},[r("v-icon",{attrs:{color:"success",medium:""}},[t._v("insert_chart_outlined")]),r("span",[t._v("Uptime")]),r("span",{staticClass:"font-weight-light"},[t._v("Emitter")])],1),r("v-spacer"),r("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}})],1),r("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-divider"),r("v-list",{staticClass:"pt-0",attrs:{dense:""}},[r("v-divider"),t._l(t.items,function(e){return r("v-list-tile",{key:e.title},[r("v-list-tile-action",[r("v-icon",[t._v(t._s(e.icon))])],1),r("v-list-tile-content",[r("v-list-tile-title",[t._v(t._s(e.title))])],1)],1)})],2)],1),r("v-content",[t.searchString?t._e():r("monitors",{attrs:{monitors:t.monitors}}),t.searchString?r("monitors",{attrs:{monitors:t.filteredMonitors}}):t._e(),r("v-snackbar",{attrs:{bottom:!0,color:t.color,timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.text)+"\n      "),r("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1),r("v-footer",{attrs:{app:"",height:"64"}},[r("v-toolbar",{attrs:{flat:""}},[r("v-text-field",{attrs:{clearable:"","prepend-icon":"search",placeholder:"Search"},on:{input:t.searchPlaylist},model:{value:t.searchString,callback:function(e){t.searchString=e},expression:"searchString"}}),r("v-spacer")],1)],1)],1)},s=[],c=r("cebc"),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("monitor",{ref:"newMonitorDialog",attrs:{monitors:t.monitors}}),r("v-card-title",{attrs:{"primary-title":"",color:"dark"}},[r("div",{staticClass:"headline"},[t._v("Monitors")]),r("v-spacer"),r("v-btn",{staticClass:"mr-2",attrs:{fab:"",dark:"",small:"",color:"success"},on:{click:t.openModal}},[r("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),r("v-list",{attrs:{"two-line":""}},t._l(t.monitors,function(e,n){return r("v-list-tile",{key:n,class:[{even:n%2==0}]},[r("v-list-tile-avatar",{attrs:{medium:""}},[r("v-icon",{class:t.getClass(e.active,e.isUp)},[t._v(t._s(t.getIcon(e.active,e.isUp)))])],1),r("v-list-tile-content",[r("v-list-tile-title",[t._v(t._s(e.title)+" "),r("v-icon",{attrs:{ml:"5",color:t.getClass(e.active,e.isUp)}},[t._v("trending_up")]),t._v(t._s(t.percentage(e.totalDownTimes,e.totalRequests))+"%")],1),r("v-list-tile-sub-title",[t._v(t._s(e.website))])],1),r("v-spacer"),r("v-list-tile-action",[r("v-switch",{attrs:{"input-value":e.active},on:{change:function(r){return t.toggleMonitor(e.id)}}})],1)],1)}),1)],1)},u=[],d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition",scrollable:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",{attrs:{tile:""}},[r("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[r("v-icon",[t._v("close")])],1),r("v-toolbar-title",[t._v("New Monitor")]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{dark:"",flat:""},on:{click:t.saveMonitor}},[t._v("Save")])],1)],1),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-select",{attrs:{items:t.serverOptions,rules:[function(t){return!!t||"Server Option is required"}],label:"Server Type",required:""},model:{value:t.serverType,callback:function(e){t.serverType=e},expression:"serverType"}}),r("v-text-field",{attrs:{rules:t.titleRules,label:"Title",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),"HTTP"==t.serverType?r("v-text-field",{attrs:{rules:t.urlRules,label:"Address",required:""},model:{value:t.website,callback:function(e){t.website=e},expression:"website"}}):t._e(),"TCP"==t.serverType?r("v-text-field",{attrs:{rules:t.urlRules,label:"Address",required:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}):t._e(),"TCP"==t.serverType?r("v-text-field",{attrs:{rules:[function(t){return!!t||"Port is required"}],label:"Port",required:""},model:{value:t.port,callback:function(e){t.port=e},expression:"port"}}):t._e(),r("v-select",{attrs:{items:t.frequencyOptions,rules:t.frequencyRules,label:"Frequency (minutes)",required:""},model:{value:t.interval,callback:function(e){t.interval=e},expression:"interval"}})],1)],1),r("div",{staticStyle:{flex:"1 1 auto"}})],1)],1)],1)],1)},p=[],f={props:{monitors:Array},methods:{closeModal:function(){this.dialog=!1,this.resetForm()},validate:function(){var t=!1;return this.$refs.form.validate()&&(this.snackbar=!0,t=!0),t},resetForm:function(){this.title="",this.website="",this.address="",this.port=null,this.interval=5,this.$refs.form.resetValidation(),this.$refs.form.reset()},saveMonitor:function(){if(!this.validate())return!1;var t={title:this.title,website:this.website,address:this.address,port:this.port,interval:this.interval};this.$store.dispatch("ADD_MONITOR",t),this.closeModal()},openModal:function(){this.dialog=!0}},data:function(){return{notifications:!1,sound:!0,widgets:!1,dialog:!1,valid:!0,port:null,title:"",titleRules:[function(t){return!!t||"Title is required"}],website:null,address:null,urlRules:[function(t){return!!t||"Address is required"}],serverType:"HTTP",interval:5,frequencyRules:[function(t){return t>0&&t<121||"Frequency should be between 1 and 120 minutes"}],serverOptions:["HTTP","TCP"],frequencyOptions:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,20,25,30,60,120],checkbox:!1}},created:function(){var t=this;this.$on("close",function(){t.dialog=!1}),this.$on("open",function(){t.dialog=!0})}},v=f,h=r("2877"),m=r("6544"),b=r.n(m),T=r("8336"),R=r("b0af"),_=r("99d9"),O=r("169a"),w=r("4bd4"),g=r("132d"),y=r("a722"),k=r("b56d"),E=r("9910"),x=r("2677"),S=r("71d9"),M=r("2a7f"),V=Object(h["a"])(v,d,p,!1,null,null,null),I=V.exports;b()(V,{VBtn:T["a"],VCard:R["a"],VCardText:_["a"],VDialog:O["a"],VForm:w["a"],VIcon:g["a"],VLayout:y["a"],VSelect:k["a"],VSpacer:E["a"],VTextField:x["a"],VToolbar:S["a"],VToolbarItems:M["a"],VToolbarTitle:M["b"]});var L={components:{Monitor:I},props:{monitors:Array},methods:{openModal:function(){this.$refs.newMonitorDialog.$emit("open")},getIcon:function(t,e){var r="";return t&&e?r="thumb_up":t&&!e?r="thumb_down":t||(r="wifi_off"),r},getClass:function(t,e){var r="";return t&&e?r="success":t&&!e?r="error":t||e||(r="grey"),r},turnOn:function(){this.$refs.newMonitorDialog.$emit("open")},percentage:function(t,e){var r=e-t;return Math.round(r/e*100)},toggleMonitor:function(t){var e=this;this.$nextTick(function(){e.$store.dispatch("TOGGLE_MONITOR_STATE",t)})}},data:function(){return{styles:{active:"success"},classes:{active:"success"}}}},A=L,D=(r("54b4"),r("12b2")),j=r("8860"),P=r("ba95"),C=r("40fe"),$=r("c954"),q=r("5d23"),N=r("b73d"),G=Object(h["a"])(A,l,u,!1,null,"fe3eae40",null),U=G.exports;b()(G,{VBtn:T["a"],VCard:R["a"],VCardTitle:D["a"],VIcon:g["a"],VList:j["a"],VListTile:P["a"],VListTileAction:C["a"],VListTileAvatar:$["a"],VListTileContent:q["a"],VListTileSubTitle:q["b"],VListTileTitle:q["c"],VSpacer:E["a"],VSwitch:N["a"]});var F={name:"App",components:{Monitors:U},data:function(){return{searchString:"",drawer:null,items:[{title:"Home",icon:"dashboard"},{title:"About",icon:"question_answer"}],newMonitor:!1,filteredMonitors:[],snackbar:!1,color:"",mode:"",timeout:2e4,text:""}},computed:Object(c["a"])({},Object(i["b"])(["monitors","searchResults"])),methods:{searchPlaylist:function(){this.filteredMonitors=this.searchResults(this.searchString)},networkOnLine:function(){this.snackbar=!0,this.color="success",this.text="Yay!! You are back online :)",this.$store.dispatch({type:"RESTART_SERVER"})},networkOffLine:function(){this.snackbar=!0,this.color="error",this.text="You are offline :(",this.$store.dispatch({type:"PAUSE"})}},mounted:function(){var t=this;this.$store.dispatch({type:"FETCH_MONITORS"}),navigator.onLine||t.networkOffLine(),window.addEventListener("online",function(){t.networkOnLine()}),window.addEventListener("offline",function(){t.networkOffLine()}),this.$ipcRenderer.send("update",{test:"test communication"}),this.$ipcRenderer.on("up",function(t,e){this.snackbar=!0,this.color="success",this.text=e.message})}},H=F,B=(r("034f"),r("7496")),Y=r("549c"),J=r("ce7e"),z=r("553a"),K=r("f774"),Q=r("2db4"),W=r("706c"),X=Object(h["a"])(H,a,s,!1,null,null,null),Z=X.exports;b()(X,{VApp:B["a"],VBtn:T["a"],VContent:Y["a"],VDivider:J["a"],VFooter:z["a"],VIcon:g["a"],VList:j["a"],VListTile:P["a"],VListTileAction:C["a"],VListTileContent:q["a"],VListTileTitle:q["c"],VNavigationDrawer:K["a"],VSnackbar:Q["a"],VSpacer:E["a"],VTextField:x["a"],VToolbar:S["a"],VToolbarSideIcon:W["a"],VToolbarTitle:M["b"]});var tt=r("ce5b"),et=r.n(tt),rt=(r("bf40"),r("ac6a"),r("96cf"),r("3b8d")),nt=(r("6762"),r("2fdb"),r("5176")),it=r.n(nt),ot=(r("7514"),r("bc3a")),at=r.n(ot),st=6e4;n["default"].use(i["a"]);var ct=new i["a"].Store({strict:!0,state:{monitors:[],timers:{},errors:[]},mutations:{SET_MONITORS:function(t,e){t.monitors=e.monitors},ADD_MONITOR:function(t,e){t.monitors.push(e.monitor)},TOGGLE_MONITOR_STATE:function(t,e){var r=t.monitors.find(function(t){return t.id===e.monitor.id});r.active=e.monitor.active},UPDATE_MONITOR:function(t,e){var r=t.monitors.find(function(t){return t.id===e.monitor.id});it()(r,e.monitor)},ADD_TIMER:function(t,e){t.timers[e.id]=e.timer},STOP_TIMER:function(t,e){var r=t.timers[e.monitor.id];clearInterval(r),r=null},LOG_ERROR:function(t,e){t.errors.push(e)}},getters:{searchResults:function(t){return function(e){return t.monitors.filter(function(t){return e&&t.title.toLowerCase().includes(e.toLowerCase())||e&&t.host.toLowerCase().includes(e.toLowerCase())})}},monitors:function(t){return t.monitors}},actions:{FETCH_MONITORS:function(){var t=Object(rt["a"])(regeneratorRuntime.mark(function t(e){var r,n,i,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n=e.dispatch,t.prev=1,t.next=4,at()({method:"get",url:"http://localhost:3160/monitors",responseType:"json"});case 4:i=t.sent,o=i.data,r("SET_MONITORS",o),n("SET_TIMERS"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),r("LOG_ERROR",t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));function e(e){return t.apply(this,arguments)}return e}(),TOGGLE_MONITOR_STATE:function(){var t=Object(rt["a"])(regeneratorRuntime.mark(function t(e,r){var n,i,o,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,i=e.dispatch,t.prev=1,t.next=4,at()({method:"get",url:"http://localhost:3160/monitors/".concat(r,"/toggle"),responseType:"json",data:r});case 4:o=t.sent,a=o.data,n("TOGGLE_MONITOR_STATE",a),a.monitor.active?i("ADD_TIMER",a.monitor):n("STOP_TIMER",a),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),n("LOG_ERROR",t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));function e(e,r){return t.apply(this,arguments)}return e}(),ADD_MONITOR:function(){var t=Object(rt["a"])(regeneratorRuntime.mark(function t(e,r){var n,i,o,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,i=e.dispatch,t.prev=1,t.next=4,at()({method:"post",url:"http://localhost:3160/monitors",responseType:"json",data:r});case 4:o=t.sent,a=o.data,n("ADD_MONITOR",a),i("ADD_TIMER",a.monitor),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),n("LOG_ERROR",t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));function e(e,r){return t.apply(this,arguments)}return e}(),UPDATE_MONITOR:function(){var t=Object(rt["a"])(regeneratorRuntime.mark(function t(e,r){var n,i,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,at()({method:"get",url:"http://localhost:3160/monitors/".concat(r),responseType:"json"});case 4:i=t.sent,o=i.data,n("UPDATE_MONITOR",o),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),n("LOG_ERROR",t.t0);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));function e(e,r){return t.apply(this,arguments)}return e}(),ADD_TIMER:function(){var t=Object(rt["a"])(regeneratorRuntime.mark(function t(e,r){var n,i,o,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,i=e.commit,o=e.dispatch,r.active?(a=setInterval(function(){o("UPDATE_MONITOR",r.id)},r.interval*st),i("ADD_TIMER",{timer:a,id:r.id})):n.timers&&n.timers[r.id]&&i("STOP_TIMER",{monitor:r});case 2:case"end":return t.stop()}},t,this)}));function e(e,r){return t.apply(this,arguments)}return e}(),SET_TIMERS:function(){var t=Object(rt["a"])(regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:r=e.state,n=e.dispatch,r.monitors.forEach(function(t){n("ADD_TIMER",t)});case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),PAUSE:function(){var t=Object(rt["a"])(regeneratorRuntime.mark(function t(e){var r,n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:r=e.state,n=e.commit,i=e.dispatch,i("PAUSE_SERVER"),r.monitors.forEach(function(t){n("STOP_TIMER",{monitor:t})});case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),RESTART_SERVER:function(){var t=Object(rt["a"])(regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n=e.dispatch,t.prev=1,t.next=4,at()({method:"get",url:"http://localhost:3160/restart",responseType:"json"});case 4:n("SET_TIMERS"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),r("LOG_ERROR",t.t0);case 10:case"end":return t.stop()}},t,this,[[1,7]])}));function e(e){return t.apply(this,arguments)}return e}(),PAUSE_SERVER:function(){var t=Object(rt["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,at()({method:"get",url:"http://localhost:3160/pause",responseType:"json"});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),r("LOG_ERROR",t.t0);case 9:case"end":return t.stop()}},t,this,[[1,6]])}));function e(e){return t.apply(this,arguments)}return e}()}}),lt=window.require("electron"),ut=lt.ipcRenderer;n["default"].use(et.a),n["default"].use(i["a"]),n["default"].config.productionTip=!0,n["default"].config.ipcRenderer=ut,new n["default"]({render:function(t){return t(Z)},store:ct}).$mount("#app")},d151:function(t,e,r){}});
//# sourceMappingURL=app.554ffb54.js.map